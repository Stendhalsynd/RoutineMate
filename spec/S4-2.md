# S4-2 Spec - 게스트 -> Google OAuth 업그레이드

## 범위
- API: `POST /v1/auth/upgrade/google`, `POST /v1/auth/google/session`, `GET /v1/auth/google/config`.
- 게스트 세션을 Google 프로필로 업그레이드하고, 재로그인 시 동일 데이터 사용자로 복원한다.

## Given / When / Then
1. Given 게스트 세션, When Google 업그레이드 성공, Then `isGuest=false`, `authProvider=google`.
2. Given 업그레이드된 Google 계정, When 재로그인 세션 발급, Then 동일 `userId`로 복원된다.
3. Given 토큰 검증 실패, When 업그레이드 시도, Then 기존 세션은 유지되고 오류를 반환한다.

## 실패 테스트
- `idToken` 누락/빈 값 400.
- session 미존재 404.

## 완료 기준
- 업그레이드/재로그인 경로 통합테스트 green.
