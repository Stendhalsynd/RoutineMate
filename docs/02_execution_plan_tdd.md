# RoutineMate 실행 계획 (세부 작업 분해 + 검증 루프)

## 0) 진행 관리 방식
- 단위: 1~2일 내 완료 가능한 작은 작업(Vertical Slice).
- 상태: `todo -> in_progress -> review -> done`.
- 규칙:
  1. 작업 시작 전 Spec/테스트 먼저.
  2. 작업 완료 후 코드 리뷰/검증 체크.
  3. 결함 발견 시 신규 작업으로 환류.

---

## 1) 릴리즈 로드맵

### Phase 1. Foundation (주 1~2)
- P1-1 모노레포/CI/코드 컨벤션 셋업
- P1-2 인증/사용자 프로필/기본 네비게이션
- P1-3 공통 디자인 시스템(토큰/컴포넌트)

### Phase 2. Core Logging (주 3~4)
- P2-1 식단 간편 기록
- P2-2 운동 간편 기록
- P2-3 체중/체지방 기록
- P2-4 날짜별 캘린더 조회/수정

### Phase 3. Goal & Dashboard (주 5~6)
- P3-1 목표 설정(D-day/체중/체지방/루틴횟수)
- P3-2 진행률 계산 엔진
- P3-3 대시보드 시각화

### Phase 4. Habit Loop (주 7~8)
- P4-1 리마인더/푸시
- P4-2 추천/자동완성
- P4-3 템플릿/기록 복사

---

## 2) 상세 백로그 (예시)

## Epic A. 인증/계정
### A-1 이메일 로그인
- Spec
  - Given 미가입 이메일, When 회원가입, Then 계정 생성 및 세션 발급.
  - Given 가입 이메일, When 로그인, Then 대시보드로 이동.
- 테스트
  - 단위: 비밀번호 정책 검증.
  - 통합: 로그인 API 상태코드/에러.
  - E2E: 회원가입→로그인→로그아웃.
- 완료 기준
  - 정상/실패/예외 케이스 테스트 통과.

## Epic B. 식단 기록
### B-1 3초 식단 입력
- Spec
  - Given 날짜가 오늘, When [식사유형+대표음식+양] 입력, Then 3탭 이내 저장.
- 테스트
  - 단위: 입력 스키마(Zod) 검증.
  - 통합: `meal_logs` 저장/수정/삭제.
  - E2E: 모바일/웹 공통 플로우.
- UX 검증
  - 첫 입력 소요 시간 < 15초.
  - 재입력(최근 기록 사용) < 5초.

## Epic C. 운동 기록
### C-1 이름 몰라도 기록
- Spec
  - Given 운동명을 모름, When 부위/도구/목표 선택, Then 후보 운동이 제시됨.
- 테스트
  - 단위: 추천 랭킹 함수(최근 빈도 가중치).
  - 통합: 후보 조회 API + 필터 조합.
  - E2E: 선택→기록 저장→캘린더 반영.

## Epic D. 대시보드
### D-1 주간 진행률 카드
- Spec
  - Given 7일 로그 존재, When 대시보드 조회, Then 목표 대비 달성률 표시.
- 테스트
  - 단위: 달성률 계산 함수(0~100, 경계값).
  - 통합: 집계 쿼리 정확성.
  - 시각 회귀: 차트/카드 레이아웃 스냅샷.

---

## 3) 테스트 전략 (TDD 딥 루프)

## 테스트 피라미드
- Unit 60%: 도메인 계산(점수, 추세, 추천).
- Integration 30%: API + DB + 인증 경계.
- E2E 10%: 핵심 사용자 여정(기록, 조회, 목표 확인).

## 반복 루프(작업 1개당)
1. **Spec 작성**: 인수 조건을 Gherkin 형태로 작성.
2. **Failing tests**: 실패하는 테스트 먼저 커밋.
3. **Minimal pass**: 최소 구현으로 통과.
4. **Refactor**: 가독성/성능 개선.
5. **Review gate**:
   - 코드 리뷰 체크리스트 통과.
   - UX 체크리스트 통과.
   - 성능/접근성 점검.
6. **Regression**: 전체 테스트 재실행.

## 품질 게이트
- PR 머지 조건
  - 단위/통합/E2E 전부 green.
  - Lighthouse 모바일 성능 80+ (핵심 화면).
  - 접근성 주요 항목(라벨/포커스/명도) 충족.

---

## 4) UI/UX 설계 체크리스트
- 모바일 우선(한 손 조작, 큰 터치 타겟).
- 탭 수 최소화(주요 작업 3탭 이내).
- 읽기 쉬운 색/타이포(달력 가독성).
- 빈 상태(Empty state)에서 즉시 행동 유도.
- 기록 성공 피드백(햅틱/토스트/애니메이션).

---

## 5) 역할 기반 협업 구조(Team 대체안)
> Team 스킬이 없어도 같은 효과를 내기 위한 역할 분업 템플릿.

- Product Owner: 요구사항 우선순위/범위 통제.
- UX Lead: 플로우/와이어프레임/사용성 검증.
- Frontend Dev: 웹/앱 UI 구현.
- Backend Dev: API/DB/집계/알림.
- QA Lead: 테스트 시나리오/E2E/회귀.

각 작업은 "담당/검토자"를 분리해서 승인.

---

## 6) 바로 시작할 Sprint 0 제안

1. 리포지토리 초기화(모노레포 + lint/test/CI)
2. 디자인 토큰(색상/간격/타이포) 확정
3. 핵심 사용자 여정 3개에 대한 Spec 작성
   - 식단 빠른 입력
   - 운동 빠른 입력
   - 대시보드 진행률 확인
4. 위 3개 여정의 E2E 테스트 스켈레톤 생성

